<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Amishhaa Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    /* Base styles */
    body {
      background: #cce7ff;
      color: #0f172a;
      font-family: Inter, sans-serif;
      margin: 0;
      padding: 48px;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      position: relative;
      overflow-x: hidden;
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 32px;
      position: relative;
      z-index: 1;
    }

    /* Clouds */
    .cloud {
      position: absolute;
      background: url('assets/image.png') no-repeat center/contain;
      opacity: 0.8;
      pointer-events: none;
      z-index: 0;
    }

    /* Orgs & PRs */
    .org {
      border: 1px solid #e5e7eb;
      border-radius: 14px;
      margin-bottom: 16px;
      overflow: hidden;
      position: relative;
      z-index: 1;
    }

    .org-header {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px 20px;
      cursor: pointer;
      background: #ffffff;
      transition: background 0.15s;
    }

    .org-header:hover { background: #f8fafc; }

    .logo {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      object-fit: cover;
      background: #f1f5f9;
    }

    .org-name {
      font-weight: 600;
      font-size: 1rem;
      flex: 1;
    }

    /* Heart dropdown button */
    .heart-btn {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    .org.open .heart-btn {
      transform: rotate(180deg);
    }

    /* PRs */
    .prs {
      display: none;
      border-top: 1px solid #e5e7eb;
      background: #fafafa;
    }

    .org.open .prs { display: block; }

    .pr {
      padding: 12px 20px;
      font-size: 0.9rem;
      border-top: 1px solid #e5e7eb;
    }

    .pr:first-child { border-top: none; }

    .pr a {
      color: #2563eb;
      text-decoration: none;
    }

    .pr a:hover { text-decoration: underline; }
    .pixel-title {
  font-family: 'Press Start 2P', monospace;
  font-size: 40px;
  color: #f14ea8; /* solid fill color, e.g., blue */
  
  /* black outline */
  -webkit-text-stroke: 2px black; /* works in Chrome/Safari */
  -moz-text-stroke: 2px black;    /* Firefox */
  text-stroke: 2px black;         /* future proof */
  
  /* optional: keep crisp pixel look */
  letter-spacing: 0;
}

  </style>
</head>
<body>

<h1 class="pixel-title">AMISHA</h1>
<h3 class="pixel-title">This is a collection of my Open Source Contributions.</h3>
<div id="list"></div>

<script>
  // === Dynamic Clouds ===
  const cloudCount = 10;
  const cloudContainer = document.body;
  const windowHeight = window.innerHeight;

  for(let i = 0; i < cloudCount; i++) {
    const cloud = document.createElement("div");
    cloud.className = "cloud";
    cloud.style.width = `${150 + Math.random()*150}px`;  // width between 150-300
    cloud.style.height = `${90 + Math.random()*80}px`;   // height 90-170
    cloud.style.top = `${Math.random() * (windowHeight - 100)}px`;
    cloud.style.left = `${-200 - Math.random()*500}px`; // start offscreen left

    const speed = 100 + Math.random()*150; // seconds to cross
    cloud.style.animation = `moveCloud linear ${speed}s infinite`;
    cloudContainer.appendChild(cloud);
  }

  // Cloud animation keyframes
  const style = document.createElement('style');
  style.innerHTML = `
    @keyframes moveCloud {
      0% { transform: translateX(0); }
      100% { transform: translateX(${window.innerWidth + 400}px); }
    }
  `;
  document.head.appendChild(style);

  // === Load PR data ===
  fetch("./data.json")
    .then(r => r.json())
    .then(data => {
      const list = document.getElementById("list");
      const groups = {};

      // group by org
      data.forEach(c => {
        if(!groups[c.org]) groups[c.org] = { logo: c.logo, prs: [] };
        groups[c.org].prs.push(c);
      });

      for(const org in groups) {
        const container = document.createElement("div");
        container.className = "org";

        const header = document.createElement("div");
        header.className = "org-header";
        header.innerHTML = `
          <img src="${groups[org].logo}" class="logo">
          <div class="org-name">${org}</div>
          <img src="assets/heart.png" class="heart-btn">
        `;

        const prs = document.createElement("div");
        prs.className = "prs";

        groups[org].prs.forEach(pr => {
          const div = document.createElement("div");
          div.className = "pr";
          div.innerHTML = `<a href="${pr.link}" target="_blank">${pr.title}</a>`;
          prs.appendChild(div);
        });

        header.onclick = () => { container.classList.toggle("open"); };

        container.appendChild(header);
        container.appendChild(prs);
        list.appendChild(container);
      }
    });
</script>

</body>
</html>
